{"version":3,"sources":["../../../../node_modules/react-player/dist/Preview.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nconst ICON_SIZE = \"64px\";\nconst cache = {};\nconst Preview = ({\n  src,\n  light,\n  oEmbedUrl,\n  onClickPreview,\n  playIcon,\n  previewTabIndex,\n  previewAriaLabel\n}) => {\n  const [image, setImage] = useState(null);\n  useEffect(() => {\n    if (!src || !light || !oEmbedUrl) return;\n    fetchImage({ src, light, oEmbedUrl });\n  }, [src, light, oEmbedUrl]);\n  const fetchImage = async ({\n    src: src2,\n    light: light2,\n    oEmbedUrl: oEmbedUrl2\n  }) => {\n    if (React.isValidElement(light2)) {\n      return;\n    }\n    if (typeof light2 === \"string\") {\n      setImage(light2);\n      return;\n    }\n    if (cache[src2]) {\n      setImage(cache[src2]);\n      return;\n    }\n    setImage(null);\n    const response = await fetch(oEmbedUrl2.replace(\"{url}\", src2));\n    const data = await response.json();\n    if (data.thumbnail_url) {\n      const fetchedImage = data.thumbnail_url.replace(\"height=100\", \"height=480\").replace(\"-d_295x166\", \"-d_640\");\n      setImage(fetchedImage);\n      cache[src2] = fetchedImage;\n    }\n  };\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\" || e.key === \" \") {\n      onClickPreview == null ? void 0 : onClickPreview(e);\n    }\n  };\n  const handleClick = (e) => {\n    onClickPreview == null ? void 0 : onClickPreview(e);\n  };\n  const isElement = React.isValidElement(light);\n  const flexCenter = {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  };\n  const styles = {\n    preview: {\n      width: \"100%\",\n      height: \"100%\",\n      backgroundImage: image && !isElement ? `url(${image})` : void 0,\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center\",\n      cursor: \"pointer\",\n      ...flexCenter\n    },\n    shadow: {\n      background: \"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)\",\n      borderRadius: ICON_SIZE,\n      width: ICON_SIZE,\n      height: ICON_SIZE,\n      position: isElement ? \"absolute\" : void 0,\n      ...flexCenter\n    },\n    playIcon: {\n      borderStyle: \"solid\",\n      borderWidth: \"16px 0 16px 26px\",\n      borderColor: \"transparent transparent transparent white\",\n      marginLeft: \"7px\"\n    }\n  };\n  const defaultPlayIcon = /* @__PURE__ */ React.createElement(\"div\", { style: styles.shadow, className: \"react-player__shadow\" }, /* @__PURE__ */ React.createElement(\"div\", { style: styles.playIcon, className: \"react-player__play-icon\" }));\n  return /* @__PURE__ */ React.createElement(\n    \"div\",\n    {\n      style: styles.preview,\n      className: \"react-player__preview\",\n      tabIndex: previewTabIndex,\n      onClick: handleClick,\n      onKeyDown: handleKeyPress,\n      ...previewAriaLabel ? { \"aria-label\": previewAriaLabel } : {}\n    },\n    isElement ? light : null,\n    playIcon || defaultPlayIcon\n  );\n};\nvar Preview_default = Preview;\nexport {\n  Preview_default as default\n};\n"],"names":[],"mappings":"uCAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,IAAM,EAAY,OACZ,EAAQ,CAAC,EA8Ff,IAAI,EA7FY,CAAC,KACf,CAAG,OACH,CAAK,CA2Fe,UA1FpB,CAAS,gBACT,CAAc,UACd,CAAQ,iBACR,CAAe,kBACf,CAAgB,CACjB,IACC,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MACnC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACH,GAAQ,GAAU,CAAX,EACZ,EAAW,CADW,IACT,CADqB,OAChB,YAAO,CAAU,EACrC,EAAG,CAAC,EAAK,EAAO,EAAU,EAC1B,IAAM,EAAa,MAAO,CACxB,IAAK,CAAI,CACT,MAAO,CAAM,CACb,UAAW,CAAU,CACtB,IACC,GAAI,EAAA,OAAK,CAAC,cAAc,CAAC,GACvB,MADgC,CAGlC,GAAsB,UAAlB,OAAO,EAAqB,YAC9B,EAAS,GAGX,GAAI,CAAK,CAAC,EAAK,CAAE,YACf,EAAS,CAAK,CAAC,EAAK,EAGtB,EAAS,MACT,IAAM,EAAW,MAAM,MAAM,EAAW,OAAO,CAAC,QAAS,IACnD,EAAO,MAAM,EAAS,IAAI,GAChC,GAAI,EAAK,aAAa,CAAE,CACtB,IAAM,EAAe,EAAK,aAAa,CAAC,OAAO,CAAC,aAAc,cAAc,OAAO,CAAC,aAAc,UAClG,EAAS,GACT,CAAK,CAAC,EAAK,CAAG,CAChB,CACF,EASM,EAAY,EAAA,OAAK,CAAC,cAAc,CAAC,GACjC,EAAa,CACjB,QAAS,OACT,WAAY,SACZ,eAAgB,QAClB,EACM,EAAS,CACb,QAAS,CACP,MAAO,OACP,OAAQ,OACR,gBAAiB,GAAS,CAAC,EAAY,CAAC,IAAI,EAAE,EAAM,CAAC,CAAC,CAAG,KAAK,EAC9D,eAAgB,QAChB,mBAAoB,SACpB,OAAQ,UACR,GAAG,CAAU,AACf,EACA,OAAQ,CACN,WAAY,2DACZ,aAAc,EACd,MAAO,EACP,OAAQ,EACR,SAAU,EAAY,WAAa,KAAK,EACxC,GAAG,CAAU,AACf,EACA,SAAU,CACR,YAAa,QACb,YAAa,mBACb,YAAa,4CACb,WAAY,KACd,CACF,EACM,EAAkC,EAAA,OAAK,CAAC,MAAtB,OAAmC,CAAC,KAAvB,CAA8B,CAAE,MAAO,EAAO,MAAM,CAAE,UAAW,sBAAuB,EAAmB,CAAhB,CAAgB,OAAK,CAAC,IAAT,SAAsB,CAAC,MAAO,CAAE,MAAO,EAAO,QAAQ,CAAE,UAAW,yBAA0B,IAC1O,OAAO,AAAgB,EAAA,OAAK,CAAC,GAAT,UAAsB,CACxC,MACA,CACE,MAAO,EAAO,OAAO,CACrB,UAAW,wBACX,SAAU,EACV,QAzCgB,AAAC,CAyCR,GAxCO,MAAlB,CAAyB,EAAS,EAAe,CAAnB,CAChC,EAwCI,UA/CoB,AAAD,CA+CR,IA9CC,UAAV,EAAE,GAAG,EAA0B,MAAV,EAAE,GAAG,AAAK,GAAK,CACpB,MAAlB,CAAyB,EAAS,EAAe,CAAnB,CAAmB,CAErD,EA4CI,GAAG,EAAmB,CAAE,aAAc,CAAiB,EAAI,CAAC,CAAC,AAC/D,EACA,EAAY,EAAQ,KACpB,GAAY,EAEhB","ignoreList":[0]}