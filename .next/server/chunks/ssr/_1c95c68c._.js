module.exports=[73653,a=>{"use strict";var b=a.i(33217),c=a.i(11386);a.s(["useHighlight",0,()=>(0,b.useQuery)({queryKey:["highlights"],queryFn:()=>c.default.getInstance().fetchHighlight(),staleTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!1})])},43003,a=>{"use strict";var b=a.i(33217),c=a.i(11386);a.s(["useBanner",0,()=>(0,b.useQuery)({queryKey:["banner"],queryFn:()=>c.default.getInstance().fetchBanner(),staleTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!1})])},34012,a=>{"use strict";let b=(0,a.i(70106).default)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["PlayCircle",()=>b],34012)},93134,a=>{"use strict";function b(a){let b=new Date,c=new Date(a),d=Math.floor((b.getTime()-c.getTime())/1e3);if(d<60)return`${d}s ago`;let e=Math.floor(d/60);if(e<60)return`${e}m ago`;let f=Math.floor(e/60);if(f<24)return`${f}h ago`;let g=Math.floor(f/24);return`${g}d ago`}a.s(["AgoTime",()=>b])},18779,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(73653),e=a.i(43003),f=a.i(50944),g=a.i(34012),h=a.i(93134);let i=a=>{let d=(0,f.useRouter)(),e=(0,c.useRef)(null),[i,j]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"group bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 border border-gray-100 flex flex-col h-full cursor-pointer",onMouseEnter:()=>{j(!0);let a=e.current?.play();void 0!==a&&a.catch(a=>{})},onMouseLeave:()=>{j(!1),e.current&&(e.current.pause(),e.current.currentTime=0)},onClick:()=>d.push(`/highlight/${a.slug}`),children:[(0,b.jsxs)("div",{className:"relative w-full aspect-video flex-shrink-0 overflow-hidden",children:[(0,b.jsx)("video",{ref:e,src:`https://pub-64a1f52f8ce34898ad37705d90a1d23b.r2.dev/${a.video_url}`,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",muted:!0,loop:!0,playsInline:!0}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/10 flex items-center justify-center transition-all opacity-100 group-hover:opacity-0",children:(0,b.jsx)(g.PlayCircle,{className:"text-white drop-shadow-lg scale-90 group-hover:scale-100 transition-transform",size:48})}),(0,b.jsx)("span",{className:"absolute bottom-2 left-2 bg-gray-100 text-gray-800 text-[10px] font-bold px-2 py-0.5 rounded shadow-sm uppercase tracking-wide",children:a.category?.name})]}),(0,b.jsxs)("div",{className:"p-4 flex flex-col flex-grow justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-gray-900 font-bold text-sm sm:text-base line-clamp-2 leading-snug group-hover:text-[#4c3b71] transition-colors mb-2",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2 mb-3",children:a.summary})]}),(0,b.jsx)("div",{className:"flex items-center justify-end text-xs text-gray-400",children:(0,b.jsx)("span",{children:(0,h.AgoTime)(a.published_at)})})]})]})},j=()=>(0,b.jsx)("div",{className:"flex justify-center py-8 col-span-full",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#4c3b71]"})});var k=a.i(38246);let l=({image_url:a,title:c,link_url:d})=>(0,b.jsx)(k.default,{href:d,target:"_blank",children:(0,b.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 flex flex-col items-center justify-center text-[#4c3b71] mb-6 sticky top-6 shadow-sm",children:[(0,b.jsx)("span",{className:"text-[10px] uppercase tracking-widest mb-3 text-[#4c3b71]",children:c}),(0,b.jsx)("img",{src:`https://pub-64a1f52f8ce34898ad37705d90a1d23b.r2.dev/${a}`,alt:c,loading:"eager",width:800,height:400,className:"rounded-xl"})]})}),m=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);function n(){let{data:a,isLoading:f,isError:g}=(0,d.useHighlight)(),{data:h,isLoading:k,isError:n}=(0,e.useBanner)(),[o,p]=(0,c.useState)(""),q=Array.isArray(a)?a:a?.data||[],r=(0,c.useMemo)(()=>o.trim()?q.filter(a=>a.title.toLowerCase().includes(o.toLowerCase())):q,[q,o]),s=(0,c.useMemo)(()=>(h||[]).filter(a=>{if("sidebar"!==a.position)return!1;let b=new Date,c=new Date(a.start_at),d=new Date(a.end_at);return b>=c&&b<=d}),[h]);if(f||k)return(0,b.jsx)(j,{});if(g||n)return(0,b.jsx)("div",{children:"Error"});let t=s.length>0;return(0,b.jsx)("div",{className:"min-h-screen bg-[#F8F9FA] font-sans text-slate-800",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto py-8",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,b.jsxs)("div",{className:t?"lg:col-span-8":"lg:col-span-12",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[(0,b.jsxs)("div",{className:"bg-[#4c3b71] text-white px-4 py-2 rounded-md text-sm font-bold flex items-center gap-2 w-fit shadow-sm",children:[(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"HIGHLIGHTS"]}),(0,b.jsxs)("div",{className:"relative w-full sm:w-72",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,b.jsx)(m,{className:"h-5 w-5 text-gray-400"})}),(0,b.jsx)("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:border-[#4c3b71] focus:ring-1 focus:ring-[#4c3b71] sm:text-sm transition duration-150 ease-in-out shadow-sm",placeholder:"Search by title...",value:o,onChange:a=>p(a.target.value)})]})]}),(0,b.jsx)("div",{className:t?"grid grid-cols-1 sm:grid-cols-2 gap-6":"grid grid-cols-1 sm:grid-cols-3 gap-6",children:r.length>0?r.map(a=>(0,b.jsx)("div",{className:"h-full",children:(0,b.jsx)(i,{id:a.id,title:a.title,thumbnail_url:a.thumbnail_url,slug:a.slug,video_url:a.video_url,category:{slug:a.category?.slug,name:a.category?.name},views_count:a.views_count,published_at:a.published_at,summary:a.summary})},a.id)):(0,b.jsxs)("div",{className:"col-span-full py-10 text-center text-gray-500",children:["No highlights found matching $",o,"."]})})]}),(0,b.jsx)("div",{className:"lg:col-span-4 space-y-8",children:s.map(a=>(0,b.jsx)("div",{children:(0,b.jsx)(l,{image_url:a.image_url,title:a.title,link_url:a.link_url,id:a.id,position:a.position,start_at:a.start_at,end_at:a.end_at})},a.id))})]})})})}a.s(["default",()=>n],18779)}];

//# sourceMappingURL=_1c95c68c._.js.map