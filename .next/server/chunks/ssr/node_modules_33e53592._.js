module.exports=[97793,a=>{"use strict";var b=a.i(72131),c=a.i(96274);a.i(42014);var d=a.i(37399);class e extends(0,d.MediaTracksMixin)(c.CustomVideoElement){static shadowRootOptions={...c.CustomVideoElement.shadowRootOptions};static getTemplateHTML=a=>{let{src:b,...d}=a;return c.CustomVideoElement.getTemplateHTML(d)};#a;attributeChangedCallback(a,b,c){"src"!==a&&super.attributeChangedCallback(a,b,c),"src"===a&&b!=c&&this.load()}async _initThumbnails(a){let b=async(b,c)=>{let d=[],e=a.timescale||1,f=a.startNumber||1,g=a.presentationTimeOffset?a.presentationTimeOffset/e:0,h=a.segmentDuration;for(let a=0;a<b;a++){let e=function({thIndex:a,tduration:b,thduration:c,ttiles:d,startNumber:e,pto:f}){return(Math.floor(a/d)+e-1)*b-f+(a%d+1-1)*c}({thIndex:a,thduration:c,ttiles:b,tduration:h,startNumber:f,pto:g}),i=e+c,j=new Promise((a,b)=>{this.api.provideThumbnail(e,({url:c,width:d,height:f,x:g,y:h})=>{try{let b=new VTTCue(e,i,`${c}#xywh=${g},${h},${d},${f}`);a(b)}catch(a){b(a)}})});d.push(j)}return await Promise.all(d).catch(a=>console.error("Error processing thumbnails",a))},{totalThumbnails:c,thumbnailDuration:d}=function(a){var b,c;let[d,e]=a.essentialProperties[0].value.split("x").map(Number),f=(null==(c=null==(b=a.adaptation)?void 0:b.period)?void 0:c.duration)||null,g=a.segmentDuration,h=g/(a.timescale||1)/(d*e);return{totalThumbnails:null!=f?Math.ceil(f/h):Math.ceil(g/h),thumbnailDuration:h}}(a),e=await b(c,d),f=this.nativeEl.querySelector('track[label="thumbnails"]');if(!f){let a;(a=document.createElement("track")).kind="metadata",a.label="thumbnails",a.srclang="en",a.mode="hidden",a.default=!0,f=a,this.nativeEl.appendChild(f);let b=function(a){let b="WEBVTT\n\n";for(let c of a)b+=`${d(c.startTime)} --> ${d(c.endTime)}
${c.text}

`;let c=new Blob([b],{type:"text/vtt"});return URL.createObjectURL(c);function d(a){let b=String(Math.floor(a/3600)).padStart(2,"0"),c=String(Math.floor(a%3600/60)).padStart(2,"0"),d=(a%60).toFixed(3).padStart(6,"0");return`${b}:${c}:${d}`}}(e);f.src=b,f.dispatchEvent(new Event("change"))}}async load(){if(this.#a)return void this.api.attachSource(this.src);this.#a=!0;let b=await a.A(91438);this.api=b.MediaPlayer().create(),this.api.initialize(this.nativeEl,this.src,this.autoplay),this.api.on(b.MediaPlayer.events.STREAM_INITIALIZED,()=>{let a=this.api.getRepresentationsByType("video"),b=this.videoTracks.getTrackById("main");b||((b=this.addVideoTrack("main")).id="main",b.selected=!0),a.forEach(a=>{let c=a.bandwidth??a.bitrate??(Number.isFinite(a.bitrateInKbit)?1e3*a.bitrateInKbit:void 0);b.addRendition(a.id,a.width,a.height,a.mimeType??a.codec,c).id=a.id}),this.videoRenditions.addEventListener("change",()=>{let a=this.videoRenditions[this.videoRenditions.selectedIndex];(null==a?void 0:a.id)?(this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),this.api.setRepresentationForTypeById("video",a.id,!0)):this.api.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}})}),this.api.isDynamic()||this.api.getRepresentationsByType("image").forEach(async(a,b)=>{b>0||this._initThumbnails(a)})})}}globalThis.customElements&&!globalThis.customElements.get("dash-video")&&globalThis.customElements.define("dash-video",e);var f=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),g={className:"class",htmlFor:"for"};function h(a){return a.toLowerCase()}function i(a){return"boolean"==typeof a?a?"":void 0:"function"==typeof a?void 0:"object"!=typeof a||null===a?a:void 0}var j=function({react:a,tagName:b,elementClass:c,events:d,displayName:e,defaultProps:j,toAttributeName:k=h,toAttributeValue:l=i}){let m=Number.parseInt(a.version)>=19,n=a.forwardRef((d,e)=>{var h,n;let o=a.useRef(null);a.useRef(new Map);let p={},q={},r={},s={};for(let[a,b]of Object.entries(d)){if(f.has(a)){r[a]=b;continue}let d=k(g[a]??a);if(c.prototype&&a in c.prototype&&!(a in((null==(h=globalThis.HTMLElement)?void 0:h.prototype)??{}))&&!(null==(n=c.observedAttributes)?void 0:n.some(a=>a===d))){s[a]=b;continue}if(a.startsWith("on")){p[a]=b;continue}let e=l(b);d&&null!=e&&(q[d]=String(e),m||(r[d]=e)),d&&m&&(e!==i(b)?r[d]=e:r[d]=b)}if((null==c?void 0:c.getTemplateHTML)&&(null==c?void 0:c.shadowRootOptions)){let{mode:b,delegatesFocus:e}=c.shadowRootOptions;r.children=[a.createElement("template",{shadowrootmode:b,shadowrootdelegatesfocus:e,dangerouslySetInnerHTML:{__html:c.getTemplateHTML(q,d)},key:"ce-la-react-ssr-template-shadow-root"}),r.children]}return a.createElement(b,{...j,...r,ref:a.useCallback(a=>{o.current=a,"function"==typeof e?e(a):null!==e&&(e.current=a)},[e])},r.children)});return n.displayName=e??c.name,n}({react:b.default,tagName:"dash-video",elementClass:e,toAttributeName:a=>"muted"===a?"":"defaultMuted"===a?"muted":h(a)});a.s(["default",()=>j],97793)},91438,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_dashjs_dist_modern_esm_dash_all_min_7ddc42cf.js"].map(b=>a.l(b))).then(()=>b(74742)))}];

//# sourceMappingURL=node_modules_33e53592._.js.map