module.exports=[41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},28322,a=>{"use strict";let b;var c=a.i(87924),d=a.i(72131),e=a.i(41675),f=a.i(77156),g=a.i(70106);let h=(0,g.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),i=(0,g.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),j=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,k=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,l=/\.(m3u8)($|\?)/i,m=/\.(mpd)($|\?)/i,n=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,o=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,p=/vimeo\.com\/(?!progressive_redirect).+/,q=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,r=/open\.spotify\.com\/(\w+)\/(\w+)/i,s=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,t=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,u=(a,b)=>{if(Array.isArray(a)){for(let c of a)if("string"==typeof c&&u(c,b)||u(c.src,b))return!0;return!1}return b(a)},v=d.default.forwardRef((a,b)=>{let c=j.test(`${a.src}`)?"audio":"video";return d.default.createElement(c,{...a,ref:b},a.children)}),w=[{key:"hls",name:"hls.js",canPlay:a=>u(a,a=>l.test(a)),canEnablePIP:()=>!0,player:(0,d.lazy)(()=>a.A(97632))},{key:"dash",name:"dash.js",canPlay:a=>u(a,a=>m.test(a)),canEnablePIP:()=>!0,player:(0,d.lazy)(()=>a.A(98906))},{key:"mux",name:"Mux",canPlay:a=>n.test(a),canEnablePIP:()=>!0,player:(0,d.lazy)(()=>a.A(10819))},{key:"youtube",name:"YouTube",canPlay:a=>o.test(a),player:(0,d.lazy)(()=>a.A(68625))},{key:"vimeo",name:"Vimeo",canPlay:a=>p.test(a)&&!k.test(a)&&!l.test(a),player:(0,d.lazy)(()=>a.A(63839))},{key:"wistia",name:"Wistia",canPlay:a=>q.test(a),canEnablePIP:()=>!0,player:(0,d.lazy)(()=>a.A(12613))},{key:"spotify",name:"Spotify",canPlay:a=>r.test(a),canEnablePIP:()=>!1,player:(0,d.lazy)(()=>a.A(24085))},{key:"twitch",name:"Twitch",canPlay:a=>s.test(a),canEnablePIP:()=>!1,player:(0,d.lazy)(()=>a.A(80170))},{key:"tiktok",name:"TikTok",canPlay:a=>t.test(a),canEnablePIP:()=>!1,player:(0,d.lazy)(()=>a.A(78782))},{key:"html",name:"html",canPlay:a=>u(a,a=>j.test(a)||k.test(a)),canEnablePIP:()=>!0,player:v}],x={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},y=d.default.forwardRef((a,b)=>{let{playing:c,pip:e}=a,f=a.activePlayer,g=(0,d.useRef)(null),h=(0,d.useRef)(!0);if((0,d.useEffect)(()=>{var b,d;g.current&&(g.current.paused&&!0===c&&g.current.play(),g.current.paused||!1!==c||g.current.pause(),g.current.playbackRate=null!=(b=a.playbackRate)?b:1,g.current.volume=null!=(d=a.volume)?d:1)}),(0,d.useEffect)(()=>{var a,b,c,d,f;if(g.current&&globalThis.document){if(e&&!document.pictureInPictureElement)try{null==(b=(a=g.current).requestPictureInPicture)||b.call(a)}catch(a){}if(!e&&document.pictureInPictureElement)try{null==(d=(c=g.current).exitPictureInPicture)||d.call(c),null==(f=document.exitPictureInPicture)||f.call(document)}catch(a){}}},[e]),!f)return null;let i={},j=["onReady","onStart"];for(let b in a)b.startsWith("on")&&!j.includes(b)&&(i[b]=a[b]);return d.default.createElement(f,{...i,style:a.style,className:a.className,slot:a.slot,ref:(0,d.useCallback)(a=>{g.current=a,"function"==typeof b?b(a):null!==b&&(b.current=a)},[b]),src:a.src,crossOrigin:a.crossOrigin,preload:a.preload,controls:a.controls,muted:a.muted,autoPlay:a.autoPlay,loop:a.loop,playsInline:a.playsInline,disableRemotePlayback:a.disableRemotePlayback,config:a.config,onLoadStart:b=>{var c,d;h.current=!0,null==(c=a.onReady)||c.call(a),null==(d=a.onLoadStart)||d.call(a,b)},onPlay:b=>{var c,d;h.current&&(h.current=!1,null==(c=a.onStart)||c.call(a,b)),null==(d=a.onPlay)||d.call(a,b)}},a.children)});y.displayName="Player";let z=(0,d.lazy)(()=>a.A(28151)),A=[],B=({children:a})=>a,C=w[w.length-1];var D=((b=d.default.forwardRef((a,b)=>{let c={...x,...a},{src:e,slot:f,className:g,style:h,width:i,height:j,fallback:k,wrapper:l}=c,[m,n]=(0,d.useState)(!!c.light);(0,d.useEffect)(()=>{c.light?n(!0):n(!1)},[c.light]);let o=a=>{var b;n(!1),null==(b=c.onClickPreview)||b.call(c,a)},p=null==l?B:l,q=!1===k?B:d.Suspense;return d.default.createElement(p,{slot:f,className:g,style:{width:i,height:j,...h}},d.default.createElement(q,{fallback:k},m?(a=>{if(!a)return null;let{light:b,playIcon:e,previewTabIndex:f,oEmbedUrl:g,previewAriaLabel:h}=c;return d.default.createElement(z,{src:a,light:b,playIcon:e,previewTabIndex:f,previewAriaLabel:h,oEmbedUrl:g,onClickPreview:o})})(e):(a=>{var e,h;let i=(a=>{for(let b of[...A,...w])if(a&&b.canPlay(a))return b;return C||null})(a);if(!i)return null;let{style:j,width:k,height:l,wrapper:m}=c,n=null==(e=c.config)?void 0:e[i.key];return d.default.createElement(y,{...c,ref:b,activePlayer:null!=(h=i.player)?h:i,slot:m?void 0:f,className:m?void 0:g,style:m?{display:"block",width:"100%",height:"100%"}:{display:"block",width:k,height:l,...j},config:n})})(e)))})).displayName="ReactPlayer",b.addCustomPlayer=a=>{A.push(a)},b.removeCustomPlayers=()=>{A.length=0},b.canPlay=a=>{if(a){for(let b of[...A,...w])if(b.canPlay(a))return!0}return!1},b.canEnablePIP=a=>{var b;if(a){for(let c of[...A,...w])if(c.canPlay(a)&&(null==(b=c.canEnablePIP)?void 0:b.call(c)))return!0}return!1},b),E=a.i(33217),F=a.i(11386),G=a.i(38246),H=a.i(50944),I=a.i(77410);let J=a=>a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";function K(){var a;let b,g=(0,H.useParams)(),{data:j,isLoading:k,isError:l}=(b=g?.slug,(0,E.useQuery)({queryKey:["highlights",b],queryFn:()=>F.default.getInstance().fetchHighlightBySlug(b),staleTime:6e5,refetchOnWindowFocus:!1,refetchOnMount:!1}));if((0,d.useEffect)(()=>{j?.id&&(async()=>{try{let a=`${I.ENDPOINTS.VIEW_HIGHLIGHT}/${j.id}`;console.log("video",a),await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(a){console.error("Error counting view:",a)}})()},[j]),k)return(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#F8F9FA]",children:(0,c.jsx)(i,{className:"w-8 h-8 animate-spin text-slate-500"})});if(l||!j)return(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#F8F9FA]",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Video not found"}),(0,c.jsx)(G.default,{href:"/highlights",className:"text-blue-500 hover:underline mt-2 block",children:"Back to Highlights"})]})});let m=j.video_url.startsWith("http")?j.video_url:`https://pub-64a1f52f8ce34898ad37705d90a1d23b.r2.dev/${j.video_url}`;return(0,c.jsx)("div",{className:"min-h-screen bg-[#F8F9FA] text-slate-900 pb-12",children:(0,c.jsxs)("main",{className:"max-w-5xl mx-auto px-4 md:px-8 py-8",children:[(0,c.jsx)("div",{className:"relative aspect-video bg-black overflow-hidden shadow-xl",children:(0,c.jsx)(D,{src:m,controls:!0,width:"100%",height:"100%"})}),(0,c.jsxs)("div",{className:"mt-6",children:[(0,c.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[j.category&&(0,c.jsx)("span",{className:"bg-[#483D67] text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider",children:j.category.name}),(0,c.jsxs)("span",{className:"text-slate-500 text-sm flex items-center gap-1",children:[(0,c.jsx)(h,{className:"w-4 h-4"}),J(j.published_at)]})]}),(0,c.jsx)("h1",{className:"text-2xl md:text-4xl font-bold text-slate-900 leading-tight mb-4",children:j.title}),(0,c.jsx)("div",{className:"flex items-center justify-between border-b border-slate-200 pb-6",children:(0,c.jsxs)("div",{className:"flex items-center gap-6 text-sm text-slate-500 font-medium",children:[(0,c.jsxs)("span",{className:"flex items-center gap-2",children:[(0,c.jsx)(f.Eye,{className:"w-5 h-5 text-slate-400"})," ",(a=j.views_count)?a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"k":a.toString():"0"," views"]}),(0,c.jsxs)("span",{className:"flex items-center gap-2",children:[(0,c.jsx)(e.Calendar,{className:"w-5 h-5 text-slate-400"})," ",J(j.published_at)]})]})})]}),(0,c.jsx)("div",{className:"pt-10",children:(0,c.jsx)("div",{className:"flex items-start gap-4",children:(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("p",{children:j.summary}),j.content&&(0,c.jsx)("p",{children:j.content})]})})})]})})}a.s(["default",()=>K],28322)},97632,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_hls-video-element_dist_react_0e1fa70b.js","server/chunks/ssr/node_modules_hls_js_dist_hls_mjs_bc37615f._.js","server/chunks/ssr/node_modules_custom-media-element_dist_custom-media-element_1033a05c.js"].map(b=>a.l(b))).then(()=>b(48002)))},98906,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_33e53592._.js","server/chunks/ssr/node_modules_custom-media-element_dist_custom-media-element_1033a05c.js"].map(b=>a.l(b))).then(()=>b(97793)))},10819,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_custom-media-element_dist_custom-media-element_1033a05c.js","server/chunks/ssr/node_modules_hls_js_dist_hls_mjs_bc37615f._.js","server/chunks/ssr/node_modules_@mux_mux-player-react_dist_index_mjs_5caa89ee._.js"].map(b=>a.l(b))).then(()=>b(45003)))},68625,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_youtube-video-element_dist_react_344f181c.js"].map(b=>a.l(b))).then(()=>b(5833)))},63839,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_vimeo-video-element_dist_react_809e4fd5.js"].map(b=>a.l(b))).then(()=>b(64189)))},12613,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_wistia-video-element_dist_react_0aa16507.js"].map(b=>a.l(b))).then(()=>b(51892)))},24085,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_spotify-audio-element_dist_react_fe0b3de9.js"].map(b=>a.l(b))).then(()=>b(29989)))},80170,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_twitch-video-element_dist_react_d15674d2.js"].map(b=>a.l(b))).then(()=>b(23915)))},78782,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_tiktok-video-element_dist_react_18275ac8.js"].map(b=>a.l(b))).then(()=>b(41598)))},28151,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_react-player_dist_Preview_0476cdd0.js"].map(b=>a.l(b))).then(()=>b(92459)))}];

//# sourceMappingURL=_da1019bc._.js.map